library(tidyverse)
getwd()
setwd("/Users/apple/Desktop/SOCI50112/proposal/ICPSR_36873/codes")
# import the data
df <- read_csv("data.csv")
df <- df %>%
filter(!is.na(tang_s)) %>%
filter(!is.na(tang_s_change)) %>%
filter(!is.na(emo_s)) %>%
filter(!is.na(emo_s_change))
df$tang_s_di <- ifelse(df$tang_s=="(1) Yes", 1, 0) # receive or not receive
df$tang_s_lack <- ifelse(df$tang_s=="(1) Yes" | df$tang_s=="(2) No, have not needed help", 0, 1)
df$emo_s_di <- ifelse(df$emo_s=="(1) Yes", 1, 0) # receive or not receive
df$emo_s_lack <- ifelse(df$emo_s=="(1) Yes" | df$emo_s=="(2) No, have not needed help", 0, 1)
df$tang_s_change_cate <- ifelse(df$tang_s_change=="(1) Less often", 1, NA)
df$tang_s_change_cate <- ifelse(df$tang_s_change=="(2) About the same", 2, df$tang_s_change_cate)
df$tang_s_change_cate <- ifelse(df$tang_s_change=="(3) More often", 3, df$tang_s_change_cate)
df$emo_s_change_cate <- ifelse(df$emo_s_change=="(1) Less often", 1, NA)
df$emo_s_change_cate <- ifelse(df$emo_s_change=="(2) About the same", 2, df$emo_s_change_cate)
df$emo_s_change_cate <- ifelse(df$emo_s_change=="(3) More often", 3, df$emo_s_change_cate)
df$phy_h_cate <- ifelse(df$phy_h=="(1) poor", 1, NA)
df$phy_h_cate <- ifelse(df$phy_h=="(2) fair", 2, df$phy_h_cate)
df$phy_h_cate <- ifelse(df$phy_h=="(3) good", 3, df$phy_h_cate)
df$phy_h_cate <- ifelse(df$phy_h=="(4) very good", 4, df$phy_h_cate)
df$phy_h_cate <- ifelse(df$phy_h=="(5) excellent", 5, df$phy_h_cate)
df$men_h_cate <- ifelse(df$men_h=="(1) poor", 1, NA)
df$men_h_cate <- ifelse(df$men_h=="(2) fair", 2, df$men_h_cate)
df$men_h_cate <- ifelse(df$men_h=="(3) good", 3, df$men_h_cate)
df$men_h_cate <- ifelse(df$men_h=="(4) very good", 4, df$men_h_cate)
df$men_h_cate <- ifelse(df$men_h=="(5) excellent", 5, df$men_h_cate)
df$phy_h_change_cate <- ifelse(df$phy_h_change=="(1) Worse", 1, NA)
df$phy_h_change_cate <- ifelse(df$phy_h_change=="(2) About the same", 2, df$phy_h_change_cate)
df$phy_h_change_cate <- ifelse(df$phy_h_change=="(3) Better", 3, df$phy_h_change_cate)
df$men_h_change_cate <- ifelse(df$men_h_change=="(1) Worse", 1, NA)
df$men_h_change_cate <- ifelse(df$men_h_change=="(2) About the same", 2, df$men_h_change_cate)
df$men_h_change_cate <- ifelse(df$men_h_change=="(3) Better", 3, df$men_h_change_cate)
df$gender <- ifelse(df$GENDER=="(1) male", 0, NA)
df$gender <- ifelse(df$GENDER=="(2) female", 1, df$gender)
df$degree <- ifelse(df$EDUC=="(1) < hs", 1, NA)
df$degree <- ifelse(df$EDUC=="(2) hs/equiv", 2, df$degree)
df$degree <- ifelse(df$EDUC=="(3) voc cert/some college/assoc", 3, df$degree)
df$degree <- ifelse(df$EDUC=="(4) bachelors or more", 4, df$degree)
df$work <- ifelse(df$JOBSTAT_1=="(1) yes", 1, 0)
df$retired <- ifelse(df$JOBSTAT_2=="(1) yes", 1, 0)
df$disabled <- ifelse(df$JOBSTAT_3=="(1) yes", 1, 0)
df$unemployed <- ifelse(df$JOBSTAT_4=="(1) yes", 1, 0)
df$homemaker <- ifelse(df$JOBSTAT_5=="(1) yes", 1, 0)
df$income <-
MARITLST
RACE_RECODE
view(df)
df$income <- ifelse(df$HEARN_RECODE=="(1) 0-24,999", 1, NA)
df$income <- ifelse(df$HEARN_RECODE=="(2) 25,000-49,999", 2, df$income)
df$income <- ifelse(df$HEARN_RECODE=="(3) 50,000-99,999", 3, df$income)
df$income <- ifelse(df$HEARN_RECODE=="(4) 100k or higher", 4, df$income)
View(df)
df$income2 <- ifelse(df$INCOME_2=="(1) far below average", 1, NA)
df$income2 <- ifelse(df$INCOME_2=="(2) below average", 2, df$income2)
df$income2 <- ifelse(df$INCOME_2=="(3) average", 3, df$income2)
df$income2 <- ifelse(df$INCOME_2=="(4) above average", 4, df$income2)
df$income2 <- ifelse(df$INCOME_2=="(5) far above average", 5, df$income2)
df$marriage <- ifelse(df$MARITLST=="(1) married", 1, 0)
df$race <- ifelse(df$RACE_RECODE=="(1) white/caucasian", 1, NA)
df$race <- ifelse(df$RACE_RECODE=="(2) black/african american", 2, df$race)
df$race <- ifelse(df$RACE_RECODE=="(3) asian, pacific islander, american indian or alaskan native", 3, df$race)
View(df)
names(df)
View(df)
df$race <- ifelse(df$RACE_RECODE=="(1) white/caucasian", 1, NA)
df$race <- ifelse(df$RACE_RECODE=="(2) black/african american", 2, df$race)
df$race <- ifelse(df$RACE_RECODE=="(3) asian, pacific islander, american indian or alaskan native", 3, df$race)
write_csv(df, "data_cleaned.csv")
getwd()
setwd("/Users/apple/Desktop/SOCI50112/proposal/ICPSR_36873/codes")
library(manymome)
install.packages("manymore")
install.packages("manymome")
remotes::install_github("sfcheung/manymome")
)
install.packages("manymome")
